<Project>
  <Import Project="dependencies.props" />

  <ItemGroup>
    <DotNetCoreRuntime Include="$(MicrosoftNETCoreApp20PackageVersion)" />
    <DotNetCoreRuntime Include="$(MicrosoftNETCoreApp21PackageVersion)" />
  </ItemGroup>

  <ItemGroup>
    <FilesToSign Include="$(RepositoryRoot)src\master\bin\$(Configuration)\netcoreapp2.1\common.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\master\bin\$(Configuration)\netcoreapp2.1\interface.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\master\bin\$(Configuration)\netcoreapp2.1\rpc.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\master\bin\$(Configuration)\netcoreapp2.1\Plugin.Microsoft.Azure.SignalR.Benchmark.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\master\bin\$(Configuration)\netcoreapp2.1\master.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\agent\bin\$(Configuration)\netcoreapp2.1\agent.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\agent\bin\$(Configuration)\netcoreapp2.1\common.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\agent\bin\$(Configuration)\netcoreapp2.1\interface.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\agent\bin\$(Configuration)\netcoreapp2.1\rpc.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\agent\bin\$(Configuration)\netcoreapp2.1\Plugin.Microsoft.Azure.SignalR.Benchmark.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\**\bin\$(Configuration)\**\Microsoft.*.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\**\bin\$(Configuration)\**\System.*.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\common.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\interface.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\rpc.dll" Certificate="$(AssemblySigningCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\dotnet-signalr-bench.dll" Certificate="$(AssemblySigningCertName)" />
    <!-- third-party libraries -->
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Google.Protobuf.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Grpc.Core.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Google.Protobuf.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\MessagePack.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Newtonsoft.Json.Bson.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Newtonsoft.Json.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Serilog.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Serilog.AspNetCore.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Serilog.Extensions.Logging.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Serilog.Sinks.Console.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\Serilog.Sinks.File.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\YamlDotNet.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\runtimes\win\native\grpc_csharp_ext.x64.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
    <FilesToSign Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\runtimes\win\native\grpc_csharp_ext.x86.dll" Certificate="$(AssemblySigning3rdPartyCertName)" />
  </ItemGroup>

  <ItemGroup Label="Code sign exclusions">
    <FilesToExcludeFromSigning Include="$(RepositoryRoot)src\appserver\**\*.js" />
    <FilesToExcludeFromSigning Include="$(RepositoryRoot)src\**\bin\$(Configuration)\**\CommandLine.dll" />
    <FilesToExcludeFromSigning Include="$(RepositoryRoot)src\dotnet-signalr-bench\bin\$(Configuration)\netcoreapp2.1\publish\McMaster.Extensions.CommandLineUtils.dll" />
  </ItemGroup>

  <ItemGroup>
    <ProjectToExclude Include="$(RepositoryRoot)src\utils\Commander\Commander.csproj" />
    <ProjectToExclude Include="$(RepositoryRoot)src\appserver\appserver.csproj" />
    <ProjectToExclude Include="$(RepositoryRoot)test\signalr\**\*.csproj" />
  </ItemGroup>
</Project>
