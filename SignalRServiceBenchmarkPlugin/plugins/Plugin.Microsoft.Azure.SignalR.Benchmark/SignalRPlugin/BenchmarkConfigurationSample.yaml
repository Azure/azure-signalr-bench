# Define the plugin information for dynamiclly install plugin. Format: {Full class name}, {assembly name} 
ModuleName: Plugin.Microsoft.Azure.SignalR.Benchmark.SignalRBenchmarkPlugin, Plugin.Microsoft.Azure.SignalR.Benchmark

# Define the scenarios, can be executed at the same time
Types:
- P1
- P2

# Define the pipeline of the benchmark, the Type and Method is required. To support mix scenario, in one parallel step, multiple methods can be executed simultaneously
Pipeline:
# 1st parallel step
-
  - Type: P1
    Method: InitStatisticsCollector
  - Type: P2
    Method: InitStatisticsCollector
# 2nd parallel step
-
  - Type: P1
    Method: CollectStatistics
    Parameter.Interval: 1000
  - Type: P2
    Method: CollectStatistics
    Parameter.Interval: 1000
# 3rd parallel step
-
  - Type: P1
    Method: CreateConnection
    Parameter.ConnectionTotal: 100
    Parameter.HubUrl: http://localhost:5050/signalrbench
    Parameter.Protocol: json
    Parameter.TransportType: WebSockets
  - Type: P2
    Method: CreateConnection
    Parameter.ConnectionTotal: 20
    Parameter.HubUrl: http://localhost:5000/signalrbench
    Parameter.Protocol: json
    Parameter.TransportType: WebSockets
# 4th parallel step
-
  - Type: P1
    Method: StartConnection
    Parameter.ConcurrentConnetion: 100
  - Type: P2
    Method: StartConnection
    Parameter.ConcurrentConnetion: 10
# 5th parallel step
-
  - Type: P1
    Method: CollectConnectionId
# 6th parallel step
-
  - Type: P1
    Method: SendToClient
    Parameter.Duration: 20000
    Parameter.Interval: 1000
    Parameter.ConnectionTotal: 100
    Parameter.RemainderBegin: 0
    Parameter.RemainderEnd: 5
    Parameter.Modulo: 100
    Parameter.MessageSize: 20
  - Type: P2
    Method: Echo
    Parameter.Duration: 20000
    Parameter.Interval: 500
    Parameter.RemainderBegin: 0
    Parameter.RemainderEnd: 6
    Parameter.Modulo: 10
    Parameter.MessageSize: 40
# 7th parallel step
-
  - Type: P1
    Method: StopConnection
  - Type: P2
    Method: StopConnection
# 8th parallel step
-
  - Type: P1
    Method: DisposeConnection
  - Type: P2
    Method: DisposeConnection
# 9th parallel step
-
  - Type: P1
    Method: StopCollector
  - Type: P2
    Method: StopCollector
